{"data":{"markdownRemark":{"html":"<p>I decided to try to use Spry to make a SOAP based web service call using a ColdFusion CFC for the web service.</p>\n<p>Spry 1.1 allows developers to make GET and POST method calls for DataSets. Here is an example I wrote that calls one of my quote web services; </p>\n<div class=\"code\"><font color=\"NAVY\"><!DOCTYPE html PUBLIC <font color=\"BLUE\">\"<font color=\"GRAY\">_-//W3C//DTD XHTML 1.0 Transitional//EN\"_</font>_ <font color=\"BLUE\">\"[http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd](http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd)\"</font>>_</font></font> <font color=\"NAVY\"><html xmlns=<font color=\"BLUE\">\"[http://www.w3.org/1999/xhtml](http://www.w3.org/1999/xhtml)\"</font> xmlns:spry=<font color=\"BLUE\">\"[http://ns.adobe.com/spry](http://ns.adobe.com/spry)\"</font>></font>  \n <font color=\"NAVY\"><head></font>  \n <font color=\"NAVY\"><meta http-equiv=<font color=\"BLUE\">\"Content-Type\"</font> content=<font color=\"BLUE\">\"text/html; charset=iso-8859-1\"</font> /></font>  \n <font color=\"NAVY\"><title></font>Call Webservice<font color=\"NAVY\"></title></font>  \n <font color=\"NAVY\"><font color=\"MAROON\"><script language=<font color=\"BLUE\">\"JavaScript\"</font> type=<font color=\"BLUE\">\"text/javascript\"</font> src=<font color=\"BLUE\">\"spry/includes/xpath.js\"</font>></font></font><font color=\"NAVY\"><font color=\"MAROON\"></script></font></font>  \n <font color=\"NAVY\"><font color=\"MAROON\"><script language=<font color=\"BLUE\">\"JavaScript\"</font> type=<font color=\"BLUE\">\"text/javascript\"</font> src=<font color=\"BLUE\">\"spry/includes/SpryData.js\"</font>></font></font><font color=\"NAVY\"><font color=\"MAROON\"></script></font></font>  \n <font color=\"NAVY\"></head></font>  \n<p> <font color=\"NAVY\"><body></font><br>\n<font color=\"NAVY\"><font color=\"MAROON\"><script></font></font><br>\nvar dsData = new Spry.Data.XMLDataSet(<font color=\"BLUE\">\"<a href=\"http://www.fekke.com/com/SpockWS.cfc\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.fekke.com/com/SpockWS.cfc</a>\"</font>, <font color=\"BLUE\">\"/soapenv:Envelope/soapenv:Body/ns1:getQuoteResponse/getQuoteReturn\"</font>, { method: <font color=\"BLUE\">\"POST\"</font>, postData: '<?xml version=<font color=\"BLUE\">\"1.0\"</font> encoding=<font color=\"BLUE\">\"UTF-8\"</font> standalone=<font color=\"BLUE\">\"no\"</font>?><font color=\"NAVY\">&#x3C;SOAP-ENV:Envelope xmlns:SOAP-ENV=<font color=\"BLUE\">\"<a href=\"http://schemas.xmlsoap.org/soap/envelope/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://schemas.xmlsoap.org/soap/envelope/</a>\"</font> xmlns:apachesoap=<font color=\"BLUE\">\"<a href=\"http://xml.apache.org/xml-soap\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://xml.apache.org/xml-soap</a>\"</font> xmlns:impl=<font color=\"BLUE\">\"<a href=\"http://com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://com</a>\"</font> xmlns:intf=<font color=\"BLUE\">\"<a href=\"http://com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://com</a>\"</font> xmlns:soapenc=<font color=\"BLUE\">\"<a href=\"http://schemas.xmlsoap.org/soap/encoding/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://schemas.xmlsoap.org/soap/encoding/</a>\"</font> xmlns:tns1=<font color=\"BLUE\">\"<a href=\"http://rpc.xml.coldfusion\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://rpc.xml.coldfusion</a>\"</font> xmlns:wsdl=<font color=\"BLUE\">\"<a href=\"http://schemas.xmlsoap.org/wsdl/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://schemas.xmlsoap.org/wsdl/</a>\"</font> xmlns:wsdlsoap=<font color=\"BLUE\">\"<a href=\"http://schemas.xmlsoap.org/wsdl/soap/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://schemas.xmlsoap.org/wsdl/soap/</a>\"</font> xmlns:xsd=<font color=\"BLUE\">\"<a href=\"http://www.w3.org/2001/XMLSchema\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.w3.org/2001/XMLSchema</a>\"</font> xmlns:xsi=<font color=\"BLUE\">\"<a href=\"http://www.w3.org/2001/XMLSchema-instance\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.w3.org/2001/XMLSchema-instance</a>\"</font> ></font><font color=\"NAVY\">&#x3C;SOAP-ENV:Body></font><font color=\"NAVY\">&#x3C;mns:getQuote xmlns:mns=<font color=\"BLUE\">\"<a href=\"http://com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://com</a>\"</font> SOAP-ENV:encodingStyle=<font color=\"BLUE\">\"<a href=\"http://schemas.xmlsoap.org/soap/encoding/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://schemas.xmlsoap.org/soap/encoding/</a>\"</font>></font><font color=\"NAVY\">&#x3C;/mns:getQuote></font><font color=\"NAVY\">&#x3C;/SOAP-ENV:Body></font><font color=\"NAVY\">&#x3C;/SOAP-ENV:Envelope></font>', headers: { <font color=\"BLUE\">\"Content-Type\"</font>: <font color=\"BLUE\">\"text/xml; charset=utf-8\"</font>, <font color=\"BLUE\">\"SOAPAction\"</font>: <font color=\"BLUE\">\"<a href=\"http://localhost:8300/com/SpockWS/getQuote\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://localhost:8300/com/SpockWS/getQuote</a>\"</font> } , useCache: false });<br>\ndsData.startLoadInterval(<font color=\"BLUE\">10000</font>);<br>\n<font color=\"NAVY\"><font color=\"MAROON\"></script></font></font><br>\n<font color=\"NAVY\">&#x3C;div id=<font color=\"BLUE\">\"Specials_DIV\"</font> spry:region=<font color=\"BLUE\">\"dsData\"</font>></font><br>\nEpisode: {episode} <font color=\"NAVY\"><br /></font><br>\n<font color=\"NAVY\"><em></font>{quote}<font color=\"NAVY\"></em></font><font color=\"NAVY\"><br /></font><br>\nStardate: {stardate}<br>\n<font color=\"NAVY\"></div></font><br>\n<font color=\"NAVY\"><font color=\"FF8000\">&#x3C;input type=<font color=\"BLUE\">\"button\"</font> name=<font color=\"BLUE\">\"Do something\"</font> value=<font color=\"BLUE\">\"Get Quote\"</font> onclick=<font color=\"BLUE\">\"dsData.loadData();\"</font> /></font></font><br>\n<font color=\"NAVY\"></body></font><br>\n<font color=\"NAVY\"></html></font></div>\nThe trick to getting this to work is setting the header attribute for the XMLDataSet method with a SOAPAction method.</p>","frontmatter":{"title":"Make SOAP based Web service calls with Spry","date":"17.01.2011","category":"Blog"},"timeToRead":1}},"pageContext":{"slug":"/make-soap-based-web-service-calls-with-spry","prev":{"fields":{"slug":"/making-soap-based-web-service-calls-with-ajax"},"frontmatter":{"title":"Making Soap based web service calls with Ajax","category":"Blog"}},"next":{"fields":{"slug":"/macromedia-and-cf-eclipse"},"frontmatter":{"title":"Macromedia and CFEclipse","category":"Blog"}}}}